<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!--ICON-->

<link rel="apple-touch-icon" sizes="57x57" href="img/Icon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="img/Icon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="img/Icon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="img/Icon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="img/Icon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="img/Icon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="img/Icon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="img/Icon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="img/Icon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="img/Icon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="img/Icon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="img/Icon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="img/Icon/favicon-16x16.png">
<link rel="manifest" href="img/Icon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="img/Icon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">



<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/main.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="js/jquery-3.2.1.min.js"></script>

	<title>Cha Cha Mandarin</title>
</head>
<body>
   
<div id="header"></div>
   
<center>
    <div id="imageRotation">   
      <div id="imageBox">
          <img src="img/new midmain.jpg" />
          <img src="img/chinese220online.jpg">
          <img src="img/CHIN220-5574.jpg" />
      </div>
      <div id="titleBox">
          <p class="show"><span>老师寄语</span></p>
          <p><span>New Course!</span></p>
          <p><span>New Course!</span></p> 
      </div>
      <div id="icoBox">
          <span class="on" rel="1">1</span>
          <span rel="2">2</span>
          <span rel="3">3</span>
      </div>
    </div>


  </center>
   
<hr>
<br>
<div id="footer"></div>
<br>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>$("#footer").load("./footer.html");</script>
<script>$("#header").load("./header.html");</script>

<script>
  var t = n = 0,                                                                             //定义并初始化变量t 设置自动播放的函数返回值（ID）  n 轮播图片序号 
      count;                                                                                 //定义变量 count 轮播图片总数
      
  $(document).ready(function() {                                                             //页面载入后执行
      count = $("#icoBox span").length;                                                    //获取对象数组长度即几个a标签
    
      //$("#icoBox span:not(:first-child)").hide();                                          //将a标签中除了第一个之外的，都隐藏
     
      $("#icoBox span").click(function() {                                                     //列表点击事件
          var i = $(this).text() - 1;                                                        //获取Li元素内的值，即1，2，3，4  减去1后，赋值给i,数组下标从0开始
          n = i;                                                                             //将点击对应的值减一后赋值给n
          if (i >= count) return;                                                            //越界处理
         
          $("#imageBox img").filter(":visible").fadeOut(500).parent().children().eq(i).fadeIn(1000);  //将当前显示的图片淡出，将点击对应序号的图片淡入
         $("#titleBox p").filter(":visible").fadeOut(500).parent().children().eq(i).fadeIn(1000);
         $("#titleBox p").eq(i).toggleClass("show"); 
      $("#titleBox p").eq(i).siblings().removeAttr("class"); 
          $(this).toggleClass("on");                                                           //切换对象类名 即点击对应的LI元素，该元素背景色改变，其它元素背景色恢复
          $(this).siblings().removeAttr("class");                                              //移除同辈元素的CLASS属性，即去除其它LI元素的背景色
      });
      t = setInterval("showAuto()", 5000); <!-- 5000 是图片的切换时间 -->                                                    //设定运行showAuto()函数的时间间隔 即图片轮播事件的时间间隔
      $("#imageBox").hover(function() {                                                        //鼠标移到图片上，暂停轮播
          clearInterval(t)                                                                     //取消定时操作 参数t 为设定定时操作函数的返回ID
      }, function() {
          t = setInterval("showAuto()", 5000); <!-- 5000 是图片的切换时间  -->                                                //相当于再设置一个定时器  用于移开鼠标后定时轮播图片需要
      });
    $("#icoBox").hover(function() {                                                            //鼠标移到图片上，暂停轮播
          clearInterval(t)                                                                     //取消定时操作 参数t 为设定定时操作函数的返回ID
      }, function() {
          t = setInterval("showAuto()", 5000); <!-- 5000 是图片的切换时间  -->                                                //相当于再设置一个定时器  用于移开鼠标后定时轮播图片需要
      });
  })
  
  function showAuto() {                                                                         //轮播操作
      n = n >= (count - 1) ? 0 : ++n;                                                           //当播放到最后一张图片后，播放第一张图片，否则，播放下一张图片
      $("#icoBox span").eq(n).trigger('click');                                                   //触发点击LI事件
  }
  </script>
	
	
</body>
</html>
